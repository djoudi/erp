WorkingHour:
  actAs:
    SoftDelete: ~
    Timestampable: ~
    Versionable: ~
  columns:
    type:
      type: enum
      values: ["Work", "Enter", "Exit"]
      default: "Work"
      notnull: true
    user_id:
      type: integer
    date:
      type: date
    project_id:
      type: integer
      #notnull: true
    worktype_id:
      type: integer
      #notnull: true
    comment:
      type: string(250)
    start:
      type: time
      #notnull: true
    end:
      type: time
      #notnull: true
    created_by:
      type: integer
    updated_by:
      type: integer
  relations:
    User: { class: sfGuardUser, local: user_id, foreign: id, foreignAlias: CostForms, onDelete: CASCADE }
    Project: { class: Project, local: project_id, foreign: id, foreignAlias: CostForms, onDelete: CASCADE }
    WorkType: { class: WorkType, local: worktype_id, foreign: id, foreignAlias: WorkTypes }
    Creator: { class: sfGuardUser, local: created_by, foreign: id, foreignAlias: User }
    Updater: { class: sfGuardUser, local: updated_by, foreign: id, foreignAlias: Updater }    

WorkType:
  actAs:
    SoftDelete: ~
    Timestampable: ~
    Versionable: ~
  columns:
    title: { type: string(250), notnull: true }
    created_by: integer
    updated_by: integer
  relations:
    Creator: { class: sfGuardUser, local: created_by, foreign: id, foreignAlias: User }
    Updater: { class: sfGuardUser, local: updated_by, foreign: id, foreignAlias: Updater }    
